<div *ngIf='auth.user | async; then authenticated else guest'>
  <!-- template will replace this div -->
</div>

<!-- User NOT logged in -->
<ng-template #guest>

  <app-home></app-home>
  <app-connect></app-connect>

</ng-template>

<!-- User logged in -->
<ng-template #authenticated>
  <div *ngIf='auth.user | async as user'>
  </div>
  <div class='interface'>
    <div class='game'>
      <div *ngIf='room && room.players.length > 1'>
        <div *ngIf='isMyTurn(); else elseBlock'>
          <p>c'est ton tour</p>
          <div class='content'>
            <button type='button' (click)='pierre()'>Pierre</button>
            <button type='button' (click)='feuille()'>Feuille</button>
            <button type='button' (click)='ciseaux()'>Ciseaux</button>
          </div>
        </div>
        <ng-template #elseBlock>
          <p>c'est pas ton tour</p>
        </ng-template>
      </div>
      <p>
        {{message}}
      </p>
    </div>
    <div class='history'>
      <div style='width: 100%;'>
        <div *ngFor='let item of this.room.matchLog'>{{item}}</div>
      </div>
      <div style='width: 100%;'>
        <p> {{player1}} he won {{scoreJ1}} rounds</p>
        <p> {{player2}} he won {{scoreJ2}} rounds </p>
      </div>
    </div>
  </div>

  <div class="gameOver" *ngIf="((this.room.players[0].roundWin % 3 === 0 && this.room.players[0].roundWin != 0) || (this.room.players[1].roundWin % 3 === 0 && this.room.players[1].roundWin != 0)) && (this.room.players[0].again === 0 || this.room.players[1].again === 0)">
    <h1>GAME OVER</h1>
    <button type="button" routerLink="/">Exit</button>
    <button type="button" (click)="continue()">Continue</button>
  </div>

</ng-template>
